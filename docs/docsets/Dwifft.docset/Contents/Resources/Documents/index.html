<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dwifft  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Dwifft  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Dwifft Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/jflinter/Dwifft"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Dwifft Reference</a>
        <img id="carat" src="img/carat.png" />
        Dwifft  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CollectionViewDiffCalculator.html">CollectionViewDiffCalculator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SingleSectionCollectionViewDiffCalculator.html">SingleSectionCollectionViewDiffCalculator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SingleSectionTableViewDiffCalculator.html">SingleSectionTableViewDiffCalculator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TableViewDiffCalculator.html">TableViewDiffCalculator</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/DiffStep.html">DiffStep</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SectionedDiffStep.html">SectionedDiffStep</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Array.html">Array</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Dwifft.html">Dwifft</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SectionedValues.html">SectionedValues</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:6Dwifft34SimpleCollectionViewDiffCalculator">SimpleCollectionViewDiffCalculator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:6Dwifft29SimpleTableViewDiffCalculator">SimpleTableViewDiffCalculator</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://travis-ci.org/jflinter/Dwifft"><img src="https://travis-ci.org/jflinter/Dwifft.svg?branch=master" alt="Build Status"></a>
<img src="https://img.shields.io/github/tag/jflinter/dwifft.svg?label=Current%20Version" alt="Current Version"></p>
<a href='#dwifft' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='dwifft'>Dwifft!</h1>

<p>OK. Dwifft is a Swift library that does two things. The first thing sounds interesting but perhaps only abstractly useful, and the other thing is a very concretely useful thing based off the first thing.</p>

<p>The first thing (found in <code>Dwifft.swift</code>) is an algorithm that solves the <a href="https://en.wikipedia.org/wiki/Longest_common_subsequence_problem">Longest Common Subsequence problem</a>. Pragmatically, the problem of finding the difference between two arrays is trivially reducable to the LCS problem, i.e. if you can find the longest common subsequence between two arrays, you&rsquo;ve also found a series of transforms to apply to array 1 that will result in array 2. This algorithm is written purely in Swift, and uses dynamic programming to achieve substantial performance improvements over a naïve approach (that being said, there are several ways it could probably be sped up.) Perhaps by now you&rsquo;ve figured out that Dwifft is a terrible/brilliant portmanteau of <q>Swift</q> and <q>Diff</q>. If this kind of thing is interesting to you, there&rsquo;s a pretty great paper on diffing algorithms: <a href="http://www.xmailserver.org/diff2.pdf">http://www.xmailserver.org/diff2.pdf</a></p>

<p>The second thing (found in <code>Dwifft+UIKit.swift</code>) is a series of diff calculators for <code>UITableView</code>s and <code>UICollectionView</code>s. Let&rsquo;s say you have a <code>UITableView</code> that&rsquo;s backed by a simple array of values (like a list of names, e.g. <code>[&quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;]</code>. If that array changes (maybe Bob leaves, and is replaced by Dave, so our list is now <code>[&quot;Alice, &quot;Carol&quot;, &quot;Dave&quot;]</code>), we&rsquo;ll want to update the table. The easiest way to do this is by calling <code>reloadData</code> on it. This has a couple of downsides: the transition isn&rsquo;t animated, and it&rsquo;ll cause your user to lose their scroll position if they&rsquo;ve scrolled the table. The nicer way is to use the <code>insertRowsAtIndexPaths:withRowAnimation</code> and <code>deleteRowsAtIndexPaths:withRowAnimation</code> methods on <code>UITableView</code>, but this requires you to figure out which index paths have changed in your array (in our example, you&rsquo;d have to figure out that the row at index 1 should be removed, and a new row should be inserted at index 2 should then be added). If only we had a way to diff the previous value of our array with it&rsquo;s new value. Wait a minute.</p>

<p>When you wire up a <code>TableViewDiffCalculator</code> to your <code>UITableView</code> (or a <code>CollectionViewDiffCalculator</code> to your <code>UICollectionView</code>, it&rsquo;ll <em>automatically</em> calculate diffs and trigger the necessary animations on it whenever you change its <code>rows</code> property. Neat, right? Usually, this <code>rows</code> object will be the same thing you&rsquo;re using in your <code>UITableViewDataSource</code> methods. The only constraint is that the items in that <code>rows</code> array have to conform to <code>Equatable</code>, because, you know, how else could you compare them?</p>

<p>This makes slightly more sense in code, so check out the tests (which show <code>LCS</code>/<code>Diff</code> in action) and the example app (which demonstrates the use of <code>TableViewDiffCalculator</code>). You can quickly run the example with <code>pod try Dwifft</code>.</p>

<p>Thanks for reading! PRs and such are of course welcome, but I want to keep this pretty tightly-scoped, so I&rsquo;d politely request you open an issue before going off and implementing any new functionality so we can talk things over first.</p>

<p>Happy dwiffing!</p>
<a href='#oh-right-how-to-install' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='oh-right-how-to-install'>Oh right, how to install</h2>

<p>Cocoapods or Carthage. You&rsquo;ll need to use cocoapods frameworks because Swift. Version 0.1 is written in Swift 1.2, versions 0.2-0.3.1 are Swift 2, beyond that is Swift 3.</p>
<a href='#a-fun-gif' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='a-fun-gif'>A fun gif</h2>

<p><img src="dwifft.gif" alt="Dwifft" style="width: 375px !important;"/></p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://jackflintermann.com" target="_blank" rel="external">Jack</a>. All rights reserved. (Last updated: 2017-04-14)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.5</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
